/* =============  TOKENS (INTEGRA)  ============= */
:root{
  /* Paleta institucional */
  --ink:#0D5F6A;        /* texto/títulos */
  --paper:#F9F9F9;      /* fondo base */
  --brand:#4BB7D8;      /* celeste */
  --brand-ink:#2F9FC3;  /* celeste profundo (hover) */
  --eco:#6FCF97;        /* menta */
  --muted:#4B5E64;      /* texto secundario */
  --line:#D9E0E8;       /* borde técnico */

  /* Gradientes */
  --gradient-brand: linear-gradient(90deg, var(--brand) 0%, var(--eco) 100%);
  --gradient-solid: linear-gradient(90deg, var(--ink) 0%, var(--brand) 100%);

  /* Tipografía */
  --ff-title:"Poppins","DM Sans",sans-serif;
  --ff-body:"DM Sans",system-ui,-apple-system,Arial,sans-serif;

  /* Escala */
  --h1:clamp(2.2rem,4vw,3.5rem);
  --h2:clamp(1.6rem,2.8vw,2.2rem);
  --h3:clamp(1.25rem,2vw,1.5rem);
  --lead:clamp(1.05rem,1.3vw,1.15rem);

  /* Spacing */
  --s-1:.25rem; --s-2:.5rem; --s-3:.75rem; --s-4:1rem; --s-5:1.5rem;
  --s-6:2rem; --s-7:2.5rem; --s-8:3rem; --s-9:4rem; --s-10:5rem;

  /* UI */
  --radius-lg:16px; --radius-xl:22px;
  --elev-1:0 10px 30px rgba(0,0,0,.06);
  --elev-2:0 20px 50px rgba(0,0,0,.10);
  --border:1px solid rgba(13,95,106,.10);
}

/* =============  BASE  ============= */
html,body{background:var(--paper);color:var(--ink);scroll-behavior:smooth;}
body{font-family:var(--ff-body);line-height:1.6;}
h1,h2,h3,h4{font-family:var(--ff-title);letter-spacing:-.01em;margin:0 0 var(--s-4);}
h1{font-size:var(--h1);font-weight:700;}
h2{font-size:var(--h2);font-weight:700;}
h3{font-size:var(--h3);font-weight:600;}
.lead{color:var(--muted);font-size:var(--lead);}
section{scroll-margin-top:80px;} /* por navbar sticky */

/* =============  LAYOUT  ============= */
.section{padding:var(--s-9) 0;}
.section--alt{background:#fff;}
.max-720{max-width:720px;margin-inline:auto;}
.max-960{max-width:960px;margin-inline:auto;}
.stack > * + *{margin-top:var(--s-4);} /* espaciado uniforme */

/* =============  COMPONENTES  ============= */
.btn-primary{
  background:var(--gradient-brand);
  border:none;color:#fff;font-weight:700;
  box-shadow:0 10px 24px rgba(75,183,216,.25);
}
.btn-primary:hover{ background:var(--gradient-solid); }

.btn-outline-secondary{
  border-color: var(--line); color: var(--ink); background:#fff;
}
.btn-outline-secondary:hover{
  border-color: var(--ink); color:#fff; background: var(--ink);
}

.card{
  border:1px solid var(--line);
  border-radius:.75rem;background:#fff;box-shadow:var(--elev-1);
  transition:transform .2s ease, box-shadow .2s ease;
}
.card:hover{ transform:translateY(-2px); box-shadow:var(--elev-2); }

.card-pro{
  background:#fff;border:var(--border);border-radius:var(--radius-lg);
  box-shadow:var(--elev-1);
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.card-pro:hover{ transform:translateY(-4px); box-shadow:var(--elev-2); border-color:rgba(13,95,106,.18); }

.badge-pill{
  display:inline-block;padding:.5rem .75rem;border-radius:999px;
  background:rgba(75,183,216,.15); border:1px solid rgba(75,183,216,.25);
  color:var(--ink);font-weight:600;font-size:.9rem;
}

.icon-wrap{
  width:56px;height:56px;border-radius:999px;display:grid;place-items:center;
  background:linear-gradient(135deg, rgba(75,183,216,.14), rgba(111,207,151,.07));
  border:1px solid rgba(75,183,216,.28); backdrop-filter:saturate(120%) blur(2px);
}

/* Logos de clientes (una sola versión) */
.client-logo{
  max-height:60px; opacity:.85; filter:grayscale(100%);
  transition:opacity .25s ease, transform .25s ease, filter .25s ease;
}
.client-logo:hover{ opacity:1; filter:none; transform:translateY(-2px); }

/* Reveal on scroll */
.reveal{ opacity:0; transform: translateY(12px); transition: opacity .5s ease, transform .5s ease; }
.reveal.is-visible{ opacity:1; transform:none; }

/* =============  NAVBAR  ============= */
.navbar{
  background:#fff; box-shadow:0 6px 24px rgba(13,95,106,.08);
  padding:.55rem 0; z-index:1030; transition:background .3s ease, box-shadow .3s ease;
}
.nav-link{ color:var(--ink); font-weight:500; transition:color .2s ease; }
.nav-link:hover,.nav-link.active{ color:var(--brand); }

/* Logo más robusto */
.logo-integra{
  display:block;                  /* evita colapsos inline */
  max-height:56px;
  height:auto; width:auto;
  /* Evita bugs de render en algunos webviews */
  filter:none;                    /* <— quita el drop-shadow en el logo */
  will-change: transform;         /* suaviza el hover sin glitches */
}
.logo-integra:hover{ transform:scale(1.03); }  /* mantenemos el hover */
@media (max-width:768px){ .logo-integra{ max-height:44px; } }

/* =============  HERO  ============= */
.hero-refined{
  position:relative; overflow:visible;
  min-height:clamp(560px,62vh,720px);
  padding:clamp(5rem,10vw,8rem) 0 clamp(2.5rem,4vw,3rem);
  /* base que ya funde con beneficios (#F6FAFB) */
  background-image:
    linear-gradient(180deg,#E8F7FB 0%, #DFF3F8 45%, #F6FAFB 100%),
    linear-gradient(120deg, rgba(75,183,216,.20), rgba(111,207,151,.10));
  background-blend-mode: normal, soft-light;
}
.hero-refined .hero-bg{
  position:absolute; inset:auto 0 0 0; width:100%; height:130%;
  object-fit:cover; object-position:center bottom; z-index:0;
  opacity:.80; filter:blur(.4px);
  -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 78%, rgba(0,0,0,0) 100%);
          mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 78%, rgba(0,0,0,0) 100%);
}
.hero-refined::after{
  content:""; position:absolute; left:0; right:0; bottom:-1px; height:72px;
  background:linear-gradient(to bottom, rgba(246,250,251,0) 0%, #F6FAFB 100%);
  z-index:1; pointer-events:none;
}
.hero-refined .container{ position:relative; z-index:2; }

/* =============  POST-HERO (Beneficios)  ============= */
.after-hero{
  margin-top:-2rem; background:#F6FAFB !important;
  position:relative; z-index:2; scroll-margin-top:90px;
}
.after-hero::before{
  content:""; position:absolute; top:-25px; left:0; right:0; height:25px;
  background:linear-gradient(to bottom, rgba(13,95,106,.05) 0%, rgba(13,95,106,0) 100%);
  pointer-events:none;
}
@media (max-width:576px){ .after-hero{ margin-top:-1.25rem; } }

/* =============  UTILIDADES  ============= */
.display-5{ letter-spacing:-0.02em; line-height:1.1; } /* título hero más denso */

/* FIX: recuperar la transición hero → beneficios */
.hero-refined {
  background-image:
    linear-gradient(
      180deg,
      #E8F7FB 0%,      /* inicio frío */
      #DFF3F8 40%,     /* tono medio */
      #F4FAFA 75%,     /* transición */
      #F6FAFB 100%     /* color final de beneficios */
    ),
    linear-gradient(120deg, rgba(75,183,216,.18), rgba(111,207,151,.08));
  background-blend-mode: normal, soft-light;
}

.hero-refined::after {
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: -1px; height: 100px;
  background: linear-gradient(to bottom, rgba(246,250,251,0) 0%, #F6FAFB 100%);
  z-index: 1;
  pointer-events: none;
}

/* 1) Profundizar el fade y solaparlo 2px */
.hero-refined::after{
  bottom:-2px;                 /* antes -1px */
  height:140px;                /* +altura del degradado de salida */
}

/* 2) Subir la sección siguiente y forzar fondo idéntico */
.after-hero{
  margin-top:-6px;             /* +solapamiento (era -2/-3) */
  background:#F6FAFB !important;
  border-top:0 !important;
  box-shadow:none !important;
}

/* 3) “Tapón” anti-seam: pinta 2px del mismo color por encima */
.after-hero::before{
  content:"";
  position:absolute; left:0; right:0; top:-2px; height:2px;
  background:#F6FAFB !important;   /* NO gradiente aquí */
  pointer-events:none;
}

/* 4) Evitar artefactos de máscara en algunos navegadores */
.hero-refined .hero-bg{
  transform: translateZ(0);    /* fuerza composición en GPU */
  will-change: transform;
}

/* Ajuste fino del aire entre hero y beneficios */
.hero-refined {
  padding-bottom: clamp(1rem, 2vw, 1.5rem); /* aún menos espacio */
}

.after-hero {
  margin-top: -16px; /* más solapamiento, pero seguro */
}

/* Fade más corto (mantiene fusión sin aire extra) */
.hero-refined::after {
  bottom: -2px;
  height: 90px; /* antes 140px */
  background: linear-gradient(to bottom, rgba(246,250,251,0) 0%, #F6FAFB 100%);
}

/* En móviles: ajuste suave */
@media (max-width: 576px){
  .hero-refined { padding-bottom: 1.75rem; }
  .after-hero { margin-top: -10px; }
}

/* === SECTORES (versión INTEGRA coherente con tokens actuales) === */
#sectores {
  background: #fff;
  position: relative;
  z-index: 2;
  padding: var(--s-9) 0 var(--s-9);
}

#sectores .section-title {
  font-family: var(--ff-title);
  font-weight: 700;
  letter-spacing: -0.01em;
  color: var(--ink);
}

#sectores .section-sub {
  color: var(--muted);
  margin-bottom: var(--s-7);
}

/* Cada bloque de sector */
#sectores .sector-card,
#sectores .sector-item,
#sectores article {
  position: relative;
  background: linear-gradient(
    180deg,
    #EAF6FB 0%,
    #F9FCFC 70%,
    #F6FAFB 100%
  );
  border: var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--elev-1);
  padding: var(--s-6) var(--s-5) var(--s-7);
  overflow: hidden;
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
}

#sectores .sector-card:hover,
#sectores .sector-item:hover,
#sectores article:hover {
  transform: translateY(-4px);
  box-shadow: var(--elev-2);
  border-color: rgba(13,95,106,.18);
}

/* Ondas institucionales integradas (sin afectar fondo) */
#sectores .sector-card::after,
#sectores .sector-item::after,
#sectores article::after {
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: 0;
  height: 80px;
  background:
    linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,.7) 100%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 80'%3E%3Cpath d='M0 40 C120 20 240 60 360 40 C480 20 540 60 600 40' fill='none' stroke='%234BB7D8' stroke-opacity='0.35' stroke-width='2'/%3E%3Cpath d='M0 60 C120 40 240 80 360 60 C480 40 540 80 600 60' fill='none' stroke='%234BB7D8' stroke-opacity='0.20' stroke-width='2'/%3E%3C/svg%3E") center bottom / 120% 80px no-repeat;
  pointer-events: none;
  opacity: 0.9;
}

/* Títulos y subtítulos dentro de cada bloque */
#sectores h3 {
  font-family: var(--ff-title);
  font-size: var(--h3);
  font-weight: 700;
  color: var(--ink);
  margin-bottom: var(--s-2);
}

#sectores p {
  color: var(--muted);
  font-size: var(--lead);
  margin-bottom: var(--s-4);
}

/* Icono o emoji decorativo arriba a la derecha */
#sectores img,
#sectores .emoji {
  position: absolute;
  top: var(--s-3);
  right: var(--s-3);
  width: 42px;
  height: 42px;
  border-radius: 999px;
  background: radial-gradient(
    120% 120% at 50% 50%,
    rgba(75,183,216,.18),
    rgba(111,207,151,.10)
  );
  border: 1px solid rgba(75,183,216,.25);
  padding: var(--s-2);
  object-fit: contain;
}

/* Grilla responsive */
#sectores .row > [class*="col"] {
  margin-bottom: var(--s-5);
}

/* Hover sutil en títulos */
#sectores .sector-card:hover h3,
#sectores .sector-item:hover h3,
#sectores article:hover h3 {
  color: var(--brand);
}

/* Ajuste en móviles */
@media (max-width: 576px) {
  #sectores .sector-card,
  #sectores .sector-item,
  #sectores article {
    padding: var(--s-5);
  }
  #sectores img,
  #sectores .emoji {
    width: 36px; height: 36px; top: var(--s-2); right: var(--s-2);
  }
}

/* === SECTORES (para el HTML provisto) === */
#sectores.section-full.section--alt{
  background:#fff;            /* la banda de sectores en blanco pulcro */
  padding-top: var(--s-9);
  padding-bottom: var(--s-9);
}

/* Pila vertical (ya usás .stack) */
#sectores .stack > * + *{ margin-top: var(--s-5); }

/* Card horizontal (sin tocar el HTML) */
#sectores .card-horizontal{
  position: relative;
  display:flex; align-items:center; gap:1.25rem;
  padding: clamp(1rem, 2vw, 1.25rem) clamp(1rem, 2.5vw, 1.5rem);
  border-radius: var(--radius-lg);
  background: linear-gradient(180deg, #EAF6FB 0%, #F9FCFC 70%, #FFFFFF 100%);
  border: var(--border);
  box-shadow: var(--elev-1);
  overflow: hidden;
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  min-height: 160px;
}
#sectores .card-horizontal:hover{
  transform: translateY(-3px);
  box-shadow: var(--elev-2);
  border-color: rgba(13,95,106,.18);
}

/* Imagen/ícono del sector */
#sectores .card-horizontal > img {
  width: clamp(64px, 8vw, 90px);
  height: auto;
  object-fit: contain;
  flex: 0 0 auto;
  opacity: 0.9;
  filter: grayscale(0%) brightness(1);
  transition: opacity .3s ease, transform .3s ease;
}

#sectores .card-horizontal:hover > img {
  opacity: 1;
  transform: scale(1.05);
}
#sectores .card-horizontal:hover > img{
  filter: none; transform: translateY(-2px);
}

/* Titulares y texto */
#sectores .card-horizontal h3{
  margin: 0 0 .25rem;
  font-family: var(--ff-title);
  font-weight: 800;
  letter-spacing: -.02em;
  color: var(--ink);
}
#sectores .card-horizontal p{
  margin: 0;
  color: var(--muted);
  font-size: clamp(1rem, 1.1vw, 1.075rem);
}

/* Ondas institucionales en el borde inferior de cada card */
#sectores .card-horizontal::after{
  content:"";
  position:absolute; left:0; right:0; bottom:0; height:72px;
  background:
    linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,.70) 100%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 80'%3E%3Cpath d='M0 40 C120 20 240 60 360 40 C480 20 540 60 600 40' fill='none' stroke='%234BB7D8' stroke-opacity='0.35' stroke-width='2'/%3E%3Cpath d='M0 60 C120 40 240 80 360 60 C480 40 540 80 600 60' fill='none' stroke='%234BB7D8' stroke-opacity='0.20' stroke-width='2'/%3E%3C/svg%3E")
      center bottom / 120% 80px no-repeat;
  pointer-events:none;
  opacity:.95;
}

/* Responsive: apilar contenido en móviles angostos */
@media (max-width: 576px){
  #sectores .card-horizontal{
    flex-direction: row; /* mantenemos horizontal, pero más compacta */
    gap: .9rem;
  }
  #sectores .card-horizontal > img{
    width: 92px;
  }
}

#sectores .card-horizontal {
  box-shadow: 0 6px 18px rgba(13,95,106,.05);
}
#sectores .card-horizontal:hover {
  box-shadow: 0 10px 26px rgba(13,95,106,.08);
}

#sectores .card-horizontal::after {
  opacity: 0.55; /* antes 0.95 */
  height: 64px;  /* más compactas */
}

/* ===== About / Quiénes somos ===== */
.about-card{
  position: relative;
  background: linear-gradient(180deg,#EAF6FB 0%, #F9FCFC 80%, #FFFFFF 100%);
  border: var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--elev-1);
  padding: var(--s-6) var(--s-5);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  overflow: hidden;
}
.about-card:hover{ transform: translateY(-3px); box-shadow: var(--elev-2); border-color: rgba(13,95,106,.18); }
.about-card .icon-wrap{ margin-bottom: var(--s-3); }
.about-title{ margin: 0 0 var(--s-2); font-weight: 800; letter-spacing:-.02em; }

/* Valores en 2 columnas con bullets sutiles */
.about-kicker{ font-weight: 800; margin-bottom: var(--s-3); }
.about-values{
  columns: 2; column-gap: var(--s-6);
  padding-left: 0; list-style: none; margin: 0;
}
.about-values li{
  break-inside: avoid; margin: 0 0 var(--s-2);
  position: relative; padding-left: 1.25rem; color: var(--ink);
}
.about-values li::before{
  content:""; position:absolute; left:0; top:.6rem;
  width:8px; height:8px; border-radius:999px;
  background: linear-gradient(90deg,var(--brand),var(--eco));
  box-shadow: 0 0 0 2px rgba(75,183,216,.15);
}
.about-values strong{ font-weight: 700; }

/* Mini métricas */
.about-metrics{
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: var(--s-4);
}
.metric{
  background:#fff; border: var(--border); border-radius: 14px;
  padding: var(--s-5) var(--s-4); text-align:center;
  box-shadow: 0 8px 24px rgba(13,95,106,.06);
}
.metric-num{
  display:block; font-weight:800; letter-spacing:-.01em;
  font-size: clamp(1.4rem, 3.4vw, 1.8rem);
  background: var(--gradient-brand);
  -webkit-background-clip:text; background-clip:text; color: transparent;
}
.metric-label{ display:block; color: var(--muted); font-size:.95rem; }

/* Reveal (si ya lo tenías, no dupliques) */
.reveal{ opacity:0; transform: translateY(12px); transition: opacity .6s ease, transform .6s ease; }
.reveal.is-visible{ opacity:1; transform:none; }

@media (max-width: 576px){
  .about-values{ columns: 1; }
  .about-metrics{ grid-template-columns: 1fr 1fr; }
}

/* ===== Valores versión resumida ===== */
.about-values.compact {
  columns: 2;
  column-gap: var(--s-6);
  list-style: none;
  padding-left: 0;
  margin: 0;
  margin-top: var(--s-5);
}

.about-values.compact li {
  position: relative;
  margin-bottom: var(--s-2);
  padding-left: 1.25rem;
  font-weight: 700;
  color: var(--ink);
  letter-spacing: -0.01em;
}

.about-values.compact li::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.55rem;
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, var(--eco) 0%, var(--brand) 100%);
  box-shadow: 0 0 0 2px rgba(75,183,216,.15);
}

@media (max-width: 576px) {
  .about-values.compact { columns: 1; }
}

/* Alineación óptica del bloque de valores */
@media (min-width: 992px){
  #nosotros .about-kicker,
  #nosotros .about-values.compact {
    margin-left: calc(var(--s-6) + .25rem); /* alinea con el padding interno de las cards */
  }
}

/* ===== Proceso / Cómo trabajamos ===== */
.steps-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: var(--s-7);
  margin-top: var(--s-8);
  position: relative;
}

.steps-grid::before {
  content: "";
  position: absolute;
  top: 38px;
  left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--brand), var(--eco));
  opacity: 0.35;
  z-index: 0;
}

.step {
  position: relative;
  z-index: 1;
  text-align: center;
  padding: 0 var(--s-3);
}

.step-number {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 48px; height: 48px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(75,183,216,.2), rgba(111,207,151,.15));
  border: 2px solid var(--brand);
  color: var(--ink);
  font-weight: 700;
  font-size: 1.25rem;
  margin-bottom: var(--s-3);
  transition: transform .25s ease, box-shadow .25s ease;
}

.step:hover .step-number {
  transform: scale(1.1);
  box-shadow: 0 0 0 4px rgba(75,183,216,.12);
}

.step h3 {
  margin-bottom: .4rem;
  font-size: 1.05rem;
  font-weight: 700;
}

.step p {
  color: var(--muted);
  font-size: .95rem;
}

/* === Ajuste de alineación para "Cómo trabajamos" === */
@media (min-width: 992px){
  .steps-grid{
    grid-template-columns: repeat(5, minmax(160px, 1fr)); /* asegura las 5 columnas */
    gap: var(--s-6); /* reduce el espacio entre pasos */
  }

  /* Línea conectora alineada con los círculos */
  .steps-grid::before{
    top: 44px; /* leve ajuste vertical */
  }

  /* Limita el ancho del texto para equilibrio visual */
  .step p{
    max-width: 22ch;
    margin-inline: auto;
  }
}

/* Hover sutil para mantener el estilo Integra */
.step:hover .step-number{
  transform: scale(1.08);
  box-shadow: 0 0 0 5px rgba(75,183,216,.12);
}

/* ===== Cómo trabajamos: FIX de línea conectora ===== */
:root{
  --step-diameter: 72px;   /* si cambias el tamaño del círculo, cambia esto */
}

/* fila SIEMPRE en una línea en desktop */
@media (min-width: 992px){
  .steps{
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap: var(--s-7);
    position: relative;
    margin-top: var(--s-8);
    flex-wrap: nowrap;          /* <-- evita salto del 5º paso */
  }

  /* 
  línea maestra que conecta todos los centros de los círculos 
  .steps::before{
    content:"";
    position:absolute;
    top: calc(36px + 6px);      /* 36 = radio; +6 por el borde de 3px * 2/2 
    left: calc(var(--step-diameter) / 2);
    right: calc(var(--step-diameter) / 2);
    height: 2px;
    background: linear-gradient(90deg, var(--brand), var(--eco));
    opacity:.35;
    z-index:0;
  }
  */

  /* círculos por encima de la línea */
  .step-icon{
    width: var(--step-diameter);
    height: var(--step-diameter);
    border-radius: 999px;
    border: 3px solid var(--brand);
    background: radial-gradient(100% 100% at 30% 30%, rgba(75,183,216,.18), rgba(111,207,151,.10));
    display: inline-grid;
    place-items: center;
    margin-bottom: var(--s-3);
    position: relative;
    z-index: 1;                 /* <-- por encima de la línea */
    transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
  }

  /* QUITAR cualquier conector por-step previo */
  .step::after{ display:none !important; }
}

/* Hover sutil (opcional) */
.step:hover .step-icon{
  transform: scale(1.05);
  box-shadow: 0 0 0 6px rgba(75,183,216,.12);
  border-color: var(--brand-ink);
}

/* Mobile: timeline vertical (sin línea maestra horizontal) */
@media (max-width: 768px){
  .steps{ flex-direction: column; gap: var(--s-5); position:relative; }
  .steps::before{ display:none; }          /* no usamos la línea horizontal */
  .step{ text-align: left; padding-left: calc(var(--step-diameter) + var(--s-4)); position:relative; }
  .step-icon{ position:absolute; left:0; top:.25rem; }
  /* conector vertical entre pasos */
  .step:not(:last-child)::after{
    content:""; position:absolute;
    left: calc(var(--step-diameter) / 2); top: var(--step-diameter);
    bottom: -var(--s-4); width: 2px;
    background: linear-gradient(180deg, var(--brand), var(--eco));
    opacity:.35;
  }
}

/* === Pulido final "Cómo trabajamos" === */
:root{
  --step-diameter: 72px;
  --step-border: 3px;                 /* grosor del aro del círculo */
}

/* Desktop */
@media (min-width: 992px){
  .steps{
    position: relative;
    display:flex; justify-content:space-between; gap:var(--s-7);
    flex-wrap: nowrap;
    overflow: visible;
  }

 /* Círculo con base blanca opaca + degradado encima */
.step-icon{
  position: relative; z-index:1;
  width: var(--step-diameter); height: var(--step-diameter);
  border-radius: 999px;
  border: var(--step-border) solid var(--brand);
  display: inline-grid; place-items:center;

  /* capa superior = degradado sutil, capa inferior = blanco opaco */
  background:
    radial-gradient(100% 100% at 30% 30%, rgba(75,183,216,.18), rgba(111,207,151,.10)),
    #fff;

  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}

  /* LÍNEA CONECTORA (siempre visible) */
  .steps::before{
    content:"";
    position:absolute;
    top: calc(var(--step-diameter)/2 + var(--step-border)/2);
    left: calc(var(--step-diameter)/2);
    right: calc(var(--step-diameter)/2);
    height: 2px;
    background: linear-gradient(90deg, var(--brand) 0%, var(--eco) 100%);
    opacity: .32;
    z-index: 0;
    transform: translateY(-0.5px); /* sin scaleX(0) */
  }
}

/* Mobile (timeline vertical se mantiene) */
@media (max-width: 768px){
  .steps{ flex-direction:column; gap:var(--s-5); position:relative; }
  .steps::before{ display:none; }
  .step{ text-align:left; padding-left: calc(var(--step-diameter) + var(--s-4)); position:relative; }
  .step-icon{ position:absolute; left:0; top:.25rem; }
  .step:not(:last-child)::after{
    content:""; position:absolute; left: calc(var(--step-diameter)/2); top: var(--step-diameter);
    bottom: -var(--s-4); width:2px;
    background: linear-gradient(180deg, var(--brand), var(--eco)); opacity:.32;
  }
}

/* ancho un poco mayor para respirar en desktop (opcional) */
#clientes .container { max-width: 1200px; }

/* Grilla base (mobile first) */
.clients-grid{
  display: grid;
  gap: clamp(16px, 2vw, 28px);
  align-items: center;
  justify-items: center;
  grid-template-columns: repeat(2, minmax(0, 1fr)); /* móviles */
}

/* Escalado progresivo */
@media (min-width: 576px){ .clients-grid{ grid-template-columns: repeat(3, 1fr); } }
@media (min-width: 768px){ .clients-grid{ grid-template-columns: repeat(4, 1fr); } }
@media (min-width: 992px){ .clients-grid{ grid-template-columns: repeat(5, 1fr); } }

/* Desktop: 2 filas (5 + 6 logos), primera centrada */
/* Desktop ≥1200px: 2 filas fijas (5 + 6) perfectamente centradas */
@media (min-width: 1200px){
  .clients-grid{
    grid-template-columns: repeat(12, 1fr); /* 12 columnas simétricas */
    gap: clamp(24px, 2vw, 36px) clamp(28px, 3vw, 48px);
  }

  /* Fila 1: 5 logos en columnas pares 2–10 (span 2) */
  .clients-grid > :nth-child(1){ grid-row:1; grid-column: 2 / span 2; }
  .clients-grid > :nth-child(2){ grid-row:1; grid-column: 4 / span 2; }
  .clients-grid > :nth-child(3){ grid-row:1; grid-column: 6 / span 2; }
  .clients-grid > :nth-child(4){ grid-row:1; grid-column: 8 / span 2; }
  .clients-grid > :nth-child(5){ grid-row:1; grid-column:10 / span 2; }

  /* Fila 2: 6 logos en columnas impares 1–11 (span 2) */
  .clients-grid > :nth-child(6) { grid-row:2; grid-column: 1 / span 2; }
  .clients-grid > :nth-child(7) { grid-row:2; grid-column: 3 / span 2; }
  .clients-grid > :nth-child(8) { grid-row:2; grid-column: 5 / span 2; }
  .clients-grid > :nth-child(9) { grid-row:2; grid-column: 7 / span 2; }
  .clients-grid > :nth-child(10){ grid-row:2; grid-column: 9 / span 2; }
  .clients-grid > :nth-child(11){ grid-row:2; grid-column:11 / span 2; }
}

/* Tamaño/estética de logos — todos consistentes */
.client-logo{
  height: clamp(38px, 5.2vw, 56px);  /* mismo alto visual en todas las marcas */
  width: auto;
  object-fit: contain;
  opacity: .85;
  filter: grayscale(100%) contrast(105%);
  transition: transform .25s ease, opacity .25s ease, filter .25s ease;
}
.client-logo:hover{ opacity:1; filter:none; transform: translateY(-2px); }

/* ===========================
   FIXES MOBILE / SMALL SCREENS
   =========================== */

/* 1) Tono general: padding de secciones y offset del scroll */
@media (max-width: 576px){
  section{ scroll-margin-top: 68px; }          /* navbar más bajo en tel. */
  .section{ padding: var(--s-7) 0; }           /* menos aire en mobile */
  .section.section--alt{ padding: var(--s-7) 0; }
}

/* 2) Titulares y tamaños tipográficos en pantallas chicas */
@media (max-width: 400px){
  :root{
    --h1: clamp(1.8rem, 8vw, 2.4rem);
    --h2: clamp(1.35rem, 5.5vw, 1.65rem);
    --h3: clamp(1.05rem, 4.5vw, 1.25rem);
    --lead: clamp(.98rem, 3.8vw, 1.05rem);
  }
}

/* 3) Hero: altura y respiro en teléfonos */
@media (max-width: 576px){
  .hero-refined{
    min-height: clamp(440px, 58vh, 560px);
    padding: clamp(3.25rem, 6.5vw, 4.25rem) 0 clamp(1.25rem, 3.5vw, 1.75rem);
  }
}

/* 4) SECTORES: evitar solapamiento del icono con el texto */
@media (max-width: 576px){
  #sectores .sector-card,
  #sectores .sector-item,
  #sectores article{
    padding-right: calc(var(--s-6) + 48px); /* deja "cajón" para el icono */
  }
  #sectores img,
  #sectores .emoji{
    width: 32px; height: 32px; top: var(--s-2); right: var(--s-2);
  }
  /* Si aún ves choque en equipos MUY angostos, descomenta esta línea: */
  /* #sectores .sector-card::after{ display:none; } */
}

/* 5) NOSOTROS – métricas: 1 columna en teléfonos muy chicos */
@media (max-width: 380px){
  .about-metrics{ grid-template-columns: 1fr; }
}

/* 6) CÓMO TRABAJAMOS (timeline): reducir el diámetro y márgenes en tel. */
@media (max-width: 400px){
  :root{ --step-diameter: 56px; }                 /* era 72px */
  .step{ padding-left: calc(var(--step-diameter) + var(--s-3)); }
  .step:not(:last-child)::after{
    left: calc(var(--step-diameter)/2);
    top: var(--step-diameter);
  }
  .step h3{ font-size: 1rem; }
  .step p{ font-size: .93rem; }
}

/* 7) CLIENTES – grilla robusta en mobile + límites de logo */
@media (max-width: 576px){
  .clients-grid{
    grid-template-columns: repeat(2, 1fr);   /* 2 por fila en tel. */
    gap: clamp(14px, 4vw, 22px);
    justify-items: center;
    align-items: center;
  }
  .client-logo{
    max-width: 160px;            /* ancho tope para logos horizontales */
    height: clamp(32px, 8.5vw, 44px); /* altura visual coherente */
    opacity: .88;
  }
}

/* 8) CLIENTES – tablets pequeñas (alineación pareja) */
@media (min-width: 577px) and (max-width: 991.98px){
  .clients-grid{
    grid-template-columns: repeat(3, 1fr);   /* 3 por fila */
    gap: clamp(18px, 3vw, 28px);
  }
  .client-logo{ height: clamp(40px, 5.2vw, 54px); }
}

/* 9) CLIENTES – desktop amplio sigue con 5 + 6 (sin tocar tu layout actual) */
/* (No se modifica nada aquí, ya lo resolviste arriba con el grid de 12 cols) */

/* 10) Pequeño pulido de interacción en touch */
@media (hover: none){
  .client-logo:hover{ transform:none; opacity:.9; filter:grayscale(100%) contrast(105%); }
  .card:hover, .card-pro:hover{ transform:none; box-shadow:var(--elev-1); }
}
/* === Cómo trabajamos (mobile): agregar gutter a la izquierda === */
@media (max-width: 768px){
  /* margen interno para toda la columna de pasos (respeta notch en iOS) */
  .steps{
    padding-left: max(clamp(12px, 4vw, 20px), env(safe-area-inset-left));
  }

  /* corre el texto para mantener la distancia respecto al icono */
  .step{
    padding-left: calc(var(--step-diameter) + clamp(16px, 4vw, 24px));
  }

  /* desplaza el icono desde el borde izquierdo */
  .step-icon{
    left: clamp(12px, 4vw, 20px);
  }

  /* mueve el conector vertical para que quede centrado bajo el icono */
  .step:not(:last-child)::after{
    left: calc(clamp(12px, 4vw, 20px) + var(--step-diameter) / 2);
  }
}

/* En teléfonos muy chicos mantenemos todo más compacto */
@media (max-width: 400px){
  :root{ --step-diameter: 56px; } /* ya lo tenías, lo dejamos aquí por si acaso */
  .step{ padding-left: calc(var(--step-diameter) + clamp(12px, 4vw, 18px)); }
}